"use strict";(self["webpackChunkjoinan_test_fe"]=self["webpackChunkjoinan_test_fe"]||[]).push([[144],{5144:function(t,a,e){e.r(a),e.d(a,{default:function(){return B}});var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("b-container",{staticStyle:{padding:"0"},attrs:{fluid:""}},[e("b-row",{attrs:{"align-h":"center"}},[e("b-col",{attrs:{md:"3",lg:"3",xl:"3"}},[e("b-sidebar",{attrs:{id:"sidebar-1","z-index":"0",visible:!0,"no-header-close":!0,width:"400px",title:"Joinan Test"}},[e("section",{staticClass:"sideBar"},[e("router-link",{attrs:{to:"/"}},[t._v("Dashboard")]),e("router-link",{attrs:{to:"/userLists"}},[t._v("User List")])],1)])],1),e("b-col",{attrs:{md:"9",lg:"9",xl:"9"}},[e("b-row",[e("b-col",{attrs:{offset:"10"}},[e("section",{staticStyle:{"padding-top":"14px"}},[e("b-button",{attrs:{variant:"danger"},on:{click:t.logOut}},[t._v("Logout")])],1)])],1),e("b-row",[e("b-col",[e("section",{staticClass:"button"},[e("b-button",{attrs:{variant:"primary"},on:{click:function(a){return t.$bvModal.show("modalAdd")}}},[t._v("Add User")])],1)])],1),e("b-row",[e("b-col",{attrs:{md:"12",lg:"12",xl:"12"}},[e("section",{staticClass:"table"},[e("b-table",{staticStyle:{width:"90%"},attrs:{items:t.items,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,filter:t.filter,"filter-included-fields":t.filterOn,stacked:"md",responsive:"","show-empty":"",small:"",bordered:"",striped:"",hover:"",busy:t.tableBusy},on:{filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(action)",fn:function(a){return[e("b-button",{staticClass:"mr-1",attrs:{variant:"warning",title:"'Edit Data'"},on:{click:function(e){return t.openEdit(a.item)}}},[e("b-icon",{attrs:{icon:"pencil-fill"}})],1),e("b-button",{staticClass:"mr-1",attrs:{variant:"danger",title:"'Hapus Data'"},on:{click:function(e){return t.openDelete(a.item)}}},[e("b-icon",{attrs:{icon:"trash-fill"}})],1)]}}])})],1)])],1),e("b-row",[e("b-col",{attrs:{offset:"8"}},[e("section",{staticStyle:{"padding-right":"16%"}},[e("b-pagination",{attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(a){t.currentPage=a},expression:"currentPage"}})],1)])],1),e("Alert",{attrs:{show:t.show,variant:t.variant,msg:t.msg}})],1)],1),e("ModalEdit",{attrs:{data:t.data},on:{alertFromChild:function(a){return t.triggerAlert(a)}}}),e("ModalDelete",{attrs:{data:t.data},on:{alertFromChild:function(a){return t.triggerAlert(a)}}}),e("ModalAdd",{on:{alertFromChild:function(a){return t.triggerAlert(a)}}}),e("ModalLogout")],1)},r=[],l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("b-modal",{attrs:{id:"modalEdit",title:"Edit Data",centered:"",size:"lg","header-bg-variant":"warning","header-text-variant":"dark"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("b-button",{staticStyle:{width:"80px"},attrs:{size:"sm",variant:"secondary"},on:{click:function(a){return t.$bvModal.hide("modalEdit")}}},[t._v(" Cancel ")]),e("b-button",{staticStyle:{width:"80px"},attrs:{disabled:t.loading,size:"sm",variant:"primary"},on:{click:t.doEdit}},[t.loading?e("Spinner"):e("span",[t._v("Edit")])],1)]},proxy:!0}])},[e("section",{staticClass:"forms"},[e("b-form-group",{attrs:{id:"username-input",label:"Username :","label-for":"username-input"}},[e("b-form-input",{attrs:{id:"username-input",type:"text",placeholder:"Username",disabled:""},model:{value:t.data.username,callback:function(a){t.$set(t.data,"username",a)},expression:"data.username"}})],1),e("b-form-group",{attrs:{id:"password-input",label:"Password :","label-for":"password-input"}},[e("b-form-input",{attrs:{id:"password-input",type:"password",placeholder:"Password"},model:{value:t.password,callback:function(a){t.password=a},expression:"password"}})],1),e("b-form-group",{attrs:{id:"name-input",label:"Full Name :","label-for":"name-input"}},[e("b-form-input",{attrs:{id:"name-input",type:"text",placeholder:"Full Name"},model:{value:t.data.nama,callback:function(a){t.$set(t.data,"nama",a)},expression:"data.nama"}})],1),e("b-form-group",{attrs:{id:"dob-input",label:"Date of Birth :","label-for":"dob-input"}},[e("b-form-input",{attrs:{id:"name-input",type:"text",placeholder:"Email"},model:{value:t.data.email,callback:function(a){t.$set(t.data,"email",a)},expression:"data.email"}})],1)],1)])},o=[],n=e(692),i=e(2196),d=e.n(i),u={props:{data:{type:Object}},data(){return{loading:!1,password:""}},methods:{async doEdit(){let t=this;t.loading=!0;let a={};""!=t.password?(a.username=t.data.username,a.email=t.data.email,a.nama=t.data.nama,a.password=t.password):(a.username=t.data.username,a.email=t.data.email,a.nama=t.data.nama);try{let e=await n.Z.post("user/update",a,{headers:{token:localStorage.getItem("token")}});"sukses"===e.data.message?(t.$emit("alertFromChild",{msg:"Edit Account Succeeded!",variant:"success",show:!0}),t.loading=!1,t.$bvModal.hide("modalEdit")):(t.$emit("alertFromChild",{msg:d().toUpper(e.data.message),variant:"danger",show:!0}),t.loading=!1)}catch(e){t.$emit("alertFromChild",{msg:e.message,variant:"success",show:!0}),t.loading=!1}}}},m=u,c=e(1001),p=(0,c.Z)(m,l,o,!1,null,null,null),g=p.exports,b=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("b-modal",{attrs:{id:"modalDelete",title:"Warning!",centered:"","header-bg-variant":"danger","header-text-variant":"light"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("b-button",{staticStyle:{width:"80px"},attrs:{size:"sm",variant:"secondary"},on:{click:function(a){return t.$bvModal.hide("modalDelete")}}},[t._v(" Cancel ")]),e("b-button",{staticStyle:{width:"80px"},attrs:{disabled:t.loading,size:"sm",variant:"danger"},on:{click:t.deleteUser}},[t.loading?e("Spinner"):e("span",[t._v("Delete")])],1)]},proxy:!0}])},[e("p",{staticClass:"my-4"},[t._v(t._s("Are you sure want to delete user "+t.data.nama+"?"))])])},h=[],f={props:{data:{type:Object}},data(){return{loading:!1}},methods:{async deleteUser(){let t=this;t.loading=!0;try{let a=await n.Z.post("user/delete",{id:t.data.id},{headers:{token:localStorage.getItem("token")}});"sukses"===a.data.message?(t.$emit("alertFromChild",{msg:"Delete Account Succeeded!",variant:"success",show:!0}),t.loading=!1,t.$bvModal.hide("modalDelete")):(t.$emit("alertFromChild",{msg:d().toUpper(a.data.message),variant:"danger",show:!0}),t.loading=!1)}catch(a){t.$emit("alertFromChild",{msg:a.message,variant:"danger",show:!0}),t.loading=!1}}}},v=f,w=(0,c.Z)(v,b,h,!1,null,null,null),y=w.exports,k=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("b-modal",{attrs:{id:"modalAdd",title:"Add New User",centered:"",size:"lg","header-bg-variant":"primary","header-text-variant":"light"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("b-button",{staticStyle:{width:"80px"},attrs:{size:"sm",variant:"secondary"},on:{click:function(a){return t.$bvModal.hide("modalAdd")}}},[t._v(" Cancel ")]),e("b-button",{staticStyle:{width:"80px"},attrs:{disabled:t.loading,size:"sm",variant:"primary"},on:{click:t.onRegis}},[t.loading?e("Spinner"):e("span",[t._v("Edit")])],1)]},proxy:!0}])},[e("section",{staticClass:"forms"},[e("b-form-group",{attrs:{id:"username-input",label:"Username :","label-for":"username-input"}},[e("b-form-input",{attrs:{id:"username-input",type:"text",placeholder:"Username"},model:{value:t.data.username,callback:function(a){t.$set(t.data,"username",a)},expression:"data.username"}})],1),e("b-form-group",{attrs:{id:"password-input",label:"Password :","label-for":"password-input"}},[e("b-form-input",{attrs:{id:"password-input",type:"password",placeholder:"Password"},model:{value:t.data.password,callback:function(a){t.$set(t.data,"password",a)},expression:"data.password"}})],1),e("b-form-group",{attrs:{id:"name-input",label:"Full Name :","label-for":"name-input"}},[e("b-form-input",{attrs:{id:"name-input",type:"text",placeholder:"Full Name"},model:{value:t.data.nama,callback:function(a){t.$set(t.data,"nama",a)},expression:"data.nama"}})],1),e("b-form-group",{attrs:{id:"dob-input",label:"Email :","label-for":"email-input"}},[e("b-form-input",{attrs:{id:"email-input",type:"text",placeholder:"Email"},model:{value:t.data.email,callback:function(a){t.$set(t.data,"email",a)},expression:"data.email"}})],1)],1)])},x=[],_={data(){return{loading:!1,show:!1,msg:"",variant:"",data:{username:"",password:"",nama:"",email:""}}},methods:{async onRegis(){let t=this;t.loading=!0;try{let a=await n.Z.post("user/register",t.data);t.loading=!1,"sukses"===a.data.message?(t.$emit("alertFromChild",{variant:"success",msg:"Add New Account Succeeded!",show:!0}),t.loading=!1,t.$bvModal.hide("modalAdd")):(t.$emit("alertFromChild",{variant:"danger",msg:d().toUpper(a.data.message),show:!0}),t.loading=!1)}catch(a){t.$emit("alertFromChild",{variant:"danger",msg:d().toUpper(a.message),show:!0})}}}},$=_,S=(0,c.Z)($,k,x,!1,null,null,null),A=S.exports,E=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("b-modal",{attrs:{id:"modalLogout",title:"Warning!",centered:"","header-bg-variant":"danger","header-text-variant":"light"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("b-button",{staticStyle:{width:"80px"},attrs:{size:"sm",variant:"secondary"},on:{click:function(a){return t.$bvModal.hide("modalLogout")}}},[t._v(" Cancel ")]),e("b-button",{staticStyle:{width:"80px"},attrs:{disabled:t.loading,size:"sm",variant:"danger"},on:{click:t.logout}},[t.loading?e("Spinner"):e("span",[t._v("Yes")])],1)]},proxy:!0}])},[e("p",{staticClass:"my-4"},[t._v(t._s("Do you want to logout?"))])])},C=[],D={props:{data:{type:Object}},data(){return{loading:!1}},methods:{logout(){localStorage.removeItem("token"),this.$router.replace("/")}}},F=D,M=(0,c.Z)(F,E,C,!1,null,null,null),P=M.exports;const U=[{key:"no",label:"No",sortDirection:"desc",sortable:!0,class:"table-number text-center"},{key:"nama",label:"Full Name",sortable:!0,sortDirection:"desc"},{key:"username",label:"Username",sortable:!0,sortDirection:"desc"},{key:"email",label:"Email",sortable:!0,sortDirection:"desc"},{key:"action",label:"Action"}];var z={components:{ModalEdit:g,ModalDelete:y,ModalAdd:A,ModalLogout:P},data(){return{fields:U,edit:!1,variant:"success",msg:"",loker:"",data:{},items:[],fields:U,totalRows:1,currentPage:1,perPage:10,pageOptions:[10,25,50,100],filter:null,filterOn:[],tableBusy:!1,user:"",msg:"",show:!1,variant:""}},mounted(){let t=this;t.getData()},methods:{onFiltered(t){this.totalRows=t.length,this.currentPage=1},logOut(){this.$bvModal.show("modalLogout")},async getData(){try{let t=this;t.tableBusy=!0;let a=await n.Z.get("user/ALL",{headers:{token:localStorage.getItem("token")}});if("sukses"===a.data.message&&a.data.data.length>0){t.tableBusy=!1,t.items=a.data.data,t.totalRows=t.items.length;for(let a=0;a<t.items.length;a++)t.items[a].no=a+1}}catch(t){vm.tableBusy=!1,vm.msg="GANGGUAN KONEKSI PADA SERVER! COBA BEBERAPA SAAT LAGI",vm.variant="danger",vm.show=!0,setTimeout((()=>{vm.show=!1}),3e3)}},openEdit(t){this.data=t,this.data!={}&&this.$bvModal.show("modalEdit")},openDelete(t){this.data=t,this.data!={}&&this.$bvModal.show("modalDelete")},triggerAlert(t){let a=this;a.msg=t.msg,a.variant=t.variant,a.show=t.show,a.getData(),setTimeout((()=>{a.show=!1}),3e3)}}},L=z,N=(0,c.Z)(L,s,r,!1,null,"b8b25820",null),B=N.exports}}]);
//# sourceMappingURL=144.82007835.js.map