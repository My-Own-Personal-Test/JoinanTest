"use strict";(self["webpackChunkjoinan_test_fe"]=self["webpackChunkjoinan_test_fe"]||[]).push([[144],{5144:function(t,e,a){a.r(e),a.d(e,{default:function(){return B}});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticStyle:{padding:"0"},attrs:{fluid:""}},[a("b-row",{attrs:{"align-h":"center"}},[a("b-col",{attrs:{md:"3",lg:"3",xl:"3"}},[a("b-sidebar",{attrs:{id:"sidebar-1","z-index":"0",visible:!0,"no-header-close":!0,width:"400px",title:"Joinan Test"}},[a("section",{staticClass:"sideBar"},[a("router-link",{attrs:{to:"/"}},[t._v("Dashboard")]),a("router-link",{attrs:{to:"/userLists"}},[t._v("User List")])],1)])],1),a("b-col",{attrs:{md:"9",lg:"9",xl:"9"}},[a("b-row",[a("b-col",{attrs:{offset:"10"}},[a("section",{staticStyle:{"padding-top":"14px"}},[a("b-button",{attrs:{variant:"danger"},on:{click:t.logOut}},[t._v("Logout")])],1)])],1),a("b-row",[a("b-col",[a("section",{staticClass:"button"},[a("b-button",{attrs:{variant:"primary"},on:{click:function(e){return t.$bvModal.show("modalAdd")}}},[t._v("Add User")])],1)])],1),a("b-row",[a("b-col",{attrs:{md:"12",lg:"12",xl:"12"}},[a("section",{staticClass:"table"},[a("b-table",{staticStyle:{width:"90%"},attrs:{items:t.items,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,filter:t.filter,"filter-included-fields":t.filterOn,stacked:"md",responsive:"","show-empty":"",small:"",bordered:"",striped:"",hover:"",busy:t.tableBusy},on:{filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(action)",fn:function(e){return[a("b-button",{staticClass:"mr-1",attrs:{variant:"warning",title:"'Edit Data'"},on:{click:function(a){return t.openEdit(e.item)}}},[a("b-icon",{attrs:{icon:"pencil-fill"}})],1),a("b-button",{staticClass:"mr-1",attrs:{variant:"danger",title:"'Hapus Data'"},on:{click:function(a){return t.openDelete(e.item)}}},[a("b-icon",{attrs:{icon:"trash-fill"}})],1)]}}])})],1)])],1),a("b-row",[a("b-col",{attrs:{offset:"8"}},[a("section",{staticStyle:{"padding-right":"16%"}},[a("b-pagination",{attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])],1),a("Alert",{attrs:{show:t.show,variant:t.variant,msg:t.msg}})],1)],1),a("ModalEdit",{attrs:{data:t.data},on:{alertFromChild:function(e){return t.triggerAlert(e)}}}),a("ModalDelete",{attrs:{data:t.data},on:{alertFromChild:function(e){return t.triggerAlert(e)}}}),a("ModalAdd",{on:{alertFromChild:function(e){return t.triggerAlert(e)}}}),a("ModalLogout")],1)},n=[],s=a(6198),o=a(3796),i=(a(8975),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{attrs:{id:"modalEdit",title:"Edit Data",centered:"",size:"lg","header-bg-variant":"warning","header-text-variant":"dark"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("b-button",{staticStyle:{width:"80px"},attrs:{size:"sm",variant:"secondary"},on:{click:function(e){return t.$bvModal.hide("modalEdit")}}},[t._v(" Cancel ")]),a("b-button",{staticStyle:{width:"80px"},attrs:{disabled:t.loading,size:"sm",variant:"primary"},on:{click:t.doEdit}},[t.loading?a("Spinner"):a("span",[t._v("Edit")])],1)]},proxy:!0}])},[a("section",{staticClass:"forms"},[a("b-form-group",{attrs:{id:"username-input",label:"Username :","label-for":"username-input"}},[a("b-form-input",{attrs:{id:"username-input",type:"text",placeholder:"Username",disabled:""},model:{value:t.data.username,callback:function(e){t.$set(t.data,"username",e)},expression:"data.username"}})],1),a("b-form-group",{attrs:{id:"password-input",label:"Password :","label-for":"password-input"}},[a("b-form-input",{attrs:{id:"password-input",type:"password",placeholder:"Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("b-form-group",{attrs:{id:"name-input",label:"Full Name :","label-for":"name-input"}},[a("b-form-input",{attrs:{id:"name-input",type:"text",placeholder:"Full Name"},model:{value:t.data.nama,callback:function(e){t.$set(t.data,"nama",e)},expression:"data.nama"}})],1),a("b-form-group",{attrs:{id:"dob-input",label:"Date of Birth :","label-for":"dob-input"}},[a("b-form-input",{attrs:{id:"name-input",type:"text",placeholder:"Email"},model:{value:t.data.email,callback:function(e){t.$set(t.data,"email",e)},expression:"data.email"}})],1)],1)])}),l=[],d=a(692),u=a(2196),c=a.n(u),m={props:{data:{type:Object}},data:function(){return{loading:!1,password:""}},methods:{doEdit:function(){var t=this;return(0,s.Z)(regeneratorRuntime.mark((function e(){var a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,a.loading=!0,r={},""!=a.password?(r.username=a.data.username,r.email=a.data.email,r.nama=a.data.nama,r.password=a.password):(r.username=a.data.username,r.email=a.data.email,r.nama=a.data.nama),e.prev=4,e.next=7,d.Z.post("user/update",r,{headers:{token:localStorage.getItem("token")}});case 7:n=e.sent,"sukses"===n.data.message?(a.$emit("alertFromChild",{msg:"Edit Account Succeeded!",variant:"success",show:!0}),a.loading=!1,a.$bvModal.hide("modalEdit")):(a.$emit("alertFromChild",{msg:c().toUpper(n.data.message),variant:"danger",show:!0}),a.loading=!1),e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](4),a.$emit("alertFromChild",{msg:e.t0.message,variant:"success",show:!0}),a.loading=!1;case 15:case"end":return e.stop()}}),e,null,[[4,11]])})))()}}},p=m,g=a(1001),b=(0,g.Z)(p,i,l,!1,null,null,null),h=b.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{attrs:{id:"modalDelete",title:"Warning!",centered:"","header-bg-variant":"danger","header-text-variant":"light"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("b-button",{staticStyle:{width:"80px"},attrs:{size:"sm",variant:"secondary"},on:{click:function(e){return t.$bvModal.hide("modalDelete")}}},[t._v(" Cancel ")]),a("b-button",{staticStyle:{width:"80px"},attrs:{disabled:t.loading,size:"sm",variant:"danger"},on:{click:t.deleteUser}},[t.loading?a("Spinner"):a("span",[t._v("Delete")])],1)]},proxy:!0}])},[a("p",{staticClass:"my-4"},[t._v(t._s("Are you sure want to delete user "+t.data.nama+"?"))])])},v=[],w={props:{data:{type:Object}},data:function(){return{loading:!1}},methods:{deleteUser:function(){var t=this;return(0,s.Z)(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,a.loading=!0,e.prev=2,e.next=5,d.Z.post("user/delete",{id:a.data.id},{headers:{token:localStorage.getItem("token")}});case 5:r=e.sent,"sukses"===r.data.message?(a.$emit("alertFromChild",{msg:"Delete Account Succeeded!",variant:"success",show:!0}),a.loading=!1,a.$bvModal.hide("modalDelete")):(a.$emit("alertFromChild",{msg:c().toUpper(r.data.message),variant:"danger",show:!0}),a.loading=!1),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](2),a.$emit("alertFromChild",{msg:e.t0.message,variant:"danger",show:!0}),a.loading=!1;case 13:case"end":return e.stop()}}),e,null,[[2,9]])})))()}}},k=w,y=(0,g.Z)(k,f,v,!1,null,null,null),x=y.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{attrs:{id:"modalAdd",title:"Add New User",centered:"",size:"lg","header-bg-variant":"primary","header-text-variant":"light"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("b-button",{staticStyle:{width:"80px"},attrs:{size:"sm",variant:"secondary"},on:{click:function(e){return t.$bvModal.hide("modalAdd")}}},[t._v(" Cancel ")]),a("b-button",{staticStyle:{width:"80px"},attrs:{disabled:t.loading,size:"sm",variant:"primary"},on:{click:t.onRegis}},[t.loading?a("Spinner"):a("span",[t._v("Edit")])],1)]},proxy:!0}])},[a("section",{staticClass:"forms"},[a("b-form-group",{attrs:{id:"username-input",label:"Username :","label-for":"username-input"}},[a("b-form-input",{attrs:{id:"username-input",type:"text",placeholder:"Username"},model:{value:t.data.username,callback:function(e){t.$set(t.data,"username",e)},expression:"data.username"}})],1),a("b-form-group",{attrs:{id:"password-input",label:"Password :","label-for":"password-input"}},[a("b-form-input",{attrs:{id:"password-input",type:"password",placeholder:"Password"},model:{value:t.data.password,callback:function(e){t.$set(t.data,"password",e)},expression:"data.password"}})],1),a("b-form-group",{attrs:{id:"name-input",label:"Full Name :","label-for":"name-input"}},[a("b-form-input",{attrs:{id:"name-input",type:"text",placeholder:"Full Name"},model:{value:t.data.nama,callback:function(e){t.$set(t.data,"nama",e)},expression:"data.nama"}})],1),a("b-form-group",{attrs:{id:"dob-input",label:"Email :","label-for":"email-input"}},[a("b-form-input",{attrs:{id:"email-input",type:"text",placeholder:"Email"},model:{value:t.data.email,callback:function(e){t.$set(t.data,"email",e)},expression:"data.email"}})],1)],1)])},$=[],S={data:function(){return{loading:!1,show:!1,msg:"",variant:"",data:{username:"",password:"",nama:"",email:""}}},methods:{onRegis:function(){var t=this;return(0,s.Z)(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,a.loading=!0,e.prev=2,e.next=5,d.Z.post("user/register",a.data);case 5:r=e.sent,a.loading=!1,"sukses"===r.data.message?(a.$emit("alertFromChild",{variant:"success",msg:"Add New Account Succeeded!",show:!0}),a.loading=!1,a.$bvModal.hide("modalAdd")):(a.$emit("alertFromChild",{variant:"danger",msg:c().toUpper(r.data.message),show:!0}),a.loading=!1),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),a.$emit("alertFromChild",{variant:"danger",msg:c().toUpper(e.t0.message),show:!0});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))()}}},A=S,E=(0,g.Z)(A,_,$,!1,null,null,null),C=E.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{attrs:{id:"modalLogout",title:"Warning!",centered:"","header-bg-variant":"danger","header-text-variant":"light"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("b-button",{staticStyle:{width:"80px"},attrs:{size:"sm",variant:"secondary"},on:{click:function(e){return t.$bvModal.hide("modalLogout")}}},[t._v(" Cancel ")]),a("b-button",{staticStyle:{width:"80px"},attrs:{disabled:t.loading,size:"sm",variant:"danger"},on:{click:t.logout}},[t.loading?a("Spinner"):a("span",[t._v("Yes")])],1)]},proxy:!0}])},[a("p",{staticClass:"my-4"},[t._v(t._s("Do you want to logout?"))])])},D=[],F=(a(4916),a(5306),{props:{data:{type:Object}},data:function(){return{loading:!1}},methods:{logout:function(){localStorage.removeItem("token"),this.$router.replace("/")}}}),M=F,R=(0,g.Z)(M,Z,D,!1,null,null,null),P=R.exports,U=[{key:"no",label:"No",sortDirection:"desc",sortable:!0,class:"table-number text-center"},{key:"nama",label:"Full Name",sortable:!0,sortDirection:"desc"},{key:"username",label:"Username",sortable:!0,sortDirection:"desc"},{key:"email",label:"Email",sortable:!0,sortDirection:"desc"},{key:"action",label:"Action"}],z={components:{ModalEdit:h,ModalDelete:x,ModalAdd:C,ModalLogout:P},data:function(){var t;return t={fields:U,edit:!1,variant:"success",msg:"",loker:"",data:{},items:[]},(0,o.Z)(t,"fields",U),(0,o.Z)(t,"totalRows",1),(0,o.Z)(t,"currentPage",1),(0,o.Z)(t,"perPage",10),(0,o.Z)(t,"pageOptions",[10,25,50,100]),(0,o.Z)(t,"filter",null),(0,o.Z)(t,"filterOn",[]),(0,o.Z)(t,"tableBusy",!1),(0,o.Z)(t,"user",""),(0,o.Z)(t,"msg",""),(0,o.Z)(t,"show",!1),(0,o.Z)(t,"variant",""),t},mounted:function(){var t=this;t.getData()},methods:{onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},logOut:function(){this.$bvModal.show("modalLogout")},getData:function(){var t=this;return(0,s.Z)(regeneratorRuntime.mark((function e(){var a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=t,a.tableBusy=!0,e.next=5,d.Z.get("user/ALL",{headers:{token:localStorage.getItem("token")}});case 5:if(r=e.sent,"sukses"===r.data.message&&r.data.data.length>0)for(a.tableBusy=!1,a.items=r.data.data,a.totalRows=a.items.length,n=0;n<a.items.length;n++)a.items[n].no=n+1;e.next=16;break;case 9:e.prev=9,e.t0=e["catch"](0),vm.tableBusy=!1,vm.msg="GANGGUAN KONEKSI PADA SERVER! COBA BEBERAPA SAAT LAGI",vm.variant="danger",vm.show=!0,setTimeout((function(){vm.show=!1}),3e3);case 16:case"end":return e.stop()}}),e,null,[[0,9]])})))()},openEdit:function(t){this.data=t,this.data!={}&&this.$bvModal.show("modalEdit")},openDelete:function(t){this.data=t,this.data!={}&&this.$bvModal.show("modalDelete")},triggerAlert:function(t){var e=this;e.msg=t.msg,e.variant=t.variant,e.show=t.show,e.getData(),setTimeout((function(){e.show=!1}),3e3)}}},L=z,N=(0,g.Z)(L,r,n,!1,null,"b8b25820",null),B=N.exports}}]);
//# sourceMappingURL=144-legacy.9072df5c.js.map